---
import BackgroundImage from './BackgroundImage.astro';

interface Props {
    imageUrl?: string | undefined;
	color?: string | undefined;
	imageRepeat?: string | undefined;
	imageSize?: string | undefined;
	borderRadius?: string | undefined;
    type?: string | undefined;
}
const { 
    imageUrl: backgroundImageUrl, 
    color: backgroundColor, 
    imageRepeat: backgroundImageRepeat, 
    imageSize: backgroundImageSize, 
    borderRadius: backgroundBorderRadius, 
    type: backgroundType 
} = Astro.props;
---

{
    backgroundImageUrl == null || backgroundImageUrl.toString().trim().length == 0
        
        ?   <div class="background">
                <slot />
            </div>
        
        :   <BackgroundImage backgroundUrl={backgroundImageUrl} backgroundColor={backgroundColor} backgroundRepeat={backgroundImageRepeat} backgroundSize={backgroundImageSize} backgroundBorderRadius={backgroundBorderRadius} type={backgroundType}>
                <slot />
            </BackgroundImage>
}

<style define:vars={{ backgroundColor, backgroundBorderRadius }}>
    .background {
        background-color: var(--backgroundColor);
        border-radius: var(--backgroundBorderRadius);
    }
</style>
