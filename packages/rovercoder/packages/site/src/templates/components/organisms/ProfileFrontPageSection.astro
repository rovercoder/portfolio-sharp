---
import Section from "../../../components/atoms/Section.astro";
import type { FlexProperties } from "../../../components/atoms/Section.types";
import type { BackgroundProperties } from "../../../components/helpers/Background.types";
import { headerHeightCssVariableName } from "../../../components/organisms/Header.consts";

interface Props {
	isFirstSection?: boolean;
}

const { isFirstSection } = Astro.props;

const _isFirstSection = isFirstSection?.toString().toLowerCase() === 'true';

// isFirstSection to eliminate jump from svh to lvg when safe area changes on scroll on iOS
const minHeight = `calc(var(${_isFirstSection ? '--viewportHeightMinimum' : '--viewportHeightMaximum'}) - var(${headerHeightCssVariableName}, 0px))`;
const padding = '2rem clamp(1rem, 5vw, 2rem)';
const backgroundProperties: BackgroundProperties = {
	backgroundImageUrl: '/assets/images/site/backgrounds/seamless-circuit-board-pattern.svg',
	backgroundColor: '#321616',
	backgroundImageRepeat: 'repeat',
	backgroundType: 'fixedFullScreen'
};
const displayProperties: FlexProperties = {
	display: 'flex',
	flexDirection: 'row',
    flexWrap: 'wrap',
    justifyContent: 'space-around',
    alignItems: 'flex-start',
    alignContent: 'center'
};
---

<Section minHeight={minHeight} padding={padding} backgroundProperties={backgroundProperties} displayProperties={displayProperties}>
	<slot name="profile-card" />
</Section>
