---
import Icon from "../../../components/atoms/Icon.astro";
import CardHeader from "../../../components/molecules/CardHeader.astro";
import type { ImageProps } from "../../../components/molecules/CardHeader.types";
import RoverCoderText from "../atoms/RoverCoderText.astro";

interface Props {
    image?: ImageProps | ImageProps[];
    imageIsIcon?: boolean;
    info?: string;
    type?: string;
}
const { image, imageIsIcon, info, type } = Astro.props;

var images: ImageProps[] | undefined = (image == null || (Array.isArray(image) && image.filter(x => x != null).length === 0)) ? undefined : (Array.isArray(image) ? image.filter(x => x != null) : [image]);

const imageHeight = '15rem';
var imageBorderRadius: string | undefined;
const iconSize = '3rem';
const iconMargin = '1rem';

const textColor = '#000000';

const infoIconButtonUrl = '/_assets/images/site/icons/info.svg';
const infoIconButtonSize = '2rem';
const infoIconButtonBorderRadius = '0.25rem';
const infoIconButtonColor = '#ffffff53';
const infoIconButtonMargin = '0.3rem';
const infoIconButtonPadding = '0.125rem';

const imageBrowserButtonIconUrl = '/_assets/images/site/icons/photo-browser.svg';
const imageBrowserButtonSize = '2rem';
const imageBrowserButtonBorderRadius = '0.25rem';
const imageBrowserButtonColor = '#ffffff53';
const imageBrowserButtonMargin = '0.3rem';
const imageBrowserButtonPadding = '0.125rem';

const previousPhotoNavigationButtonIconUrl = '/_assets/images/site/icons/previous.svg';
const nextPhotoNavigationButtonIconUrl = '/_assets/images/site/icons/next.svg';
const photoNavigationButtonSize = '1.75rem';
const photoNavigationButtonBorderRadius = '0.25rem';
const photoNavigationButtonColor = '#ffffff53';
const photoNavigationButtonMargin = '0.3rem';
const photoNavigationButtonPadding = '0.125rem';
---

<CardHeader 
        image={images} 
        imageIsIcon={imageIsIcon} 
        imageHeight={imageHeight} 
        imageBorderRadius={imageBorderRadius} 
        iconSize={iconSize} 
        iconMargin={iconMargin} 
        info={info} 
        type={type}>
    <Icon slot="infoButton" url={infoIconButtonUrl} color={infoIconButtonColor} borderRadius={infoIconButtonBorderRadius} containerMargin={infoIconButtonMargin} containerPadding={infoIconButtonPadding} size={infoIconButtonSize} />
    <RoverCoderText slot="infoText" type="card-hint" content={info ?? ''} color={textColor} isParagraph />
    <Icon slot="imageBrowserOpenButton" url={imageBrowserButtonIconUrl} color={imageBrowserButtonColor} borderRadius={imageBrowserButtonBorderRadius} containerMargin={imageBrowserButtonMargin} containerPadding={imageBrowserButtonPadding} size={imageBrowserButtonSize} />
    <Icon slot="imagePreviousNavigatorButton" url={previousPhotoNavigationButtonIconUrl} color={photoNavigationButtonColor} borderRadius={photoNavigationButtonBorderRadius} containerMargin={photoNavigationButtonMargin} containerPadding={photoNavigationButtonPadding} size={photoNavigationButtonSize} />
    <Icon slot="imageNextNavigatorButton" url={nextPhotoNavigationButtonIconUrl} color={photoNavigationButtonColor} borderRadius={photoNavigationButtonBorderRadius} containerMargin={photoNavigationButtonMargin} containerPadding={photoNavigationButtonPadding} size={photoNavigationButtonSize} />
</CardHeader>
